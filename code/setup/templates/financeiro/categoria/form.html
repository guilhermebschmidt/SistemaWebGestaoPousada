{% extends 'shared/base.html' %}
{% load static %}

{% block title %}{{ titulo_pagina }}{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <!--Mensagem de erro-->
    {% if messages %}
        {% for message in messages %}
            <div class="p-4 mb-4 text-center text-sm  rounded-lg 
                {% if message.tags == 'error' %} bg-red-100 text-red-700 {% endif %}
                {% if message.tags == 'success' %} bg-green-100 text-green-700 {% endif %}" 
                role="alert">
                 {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    {% if form.non_field_errors %}
        <div class="p-4 mb-4 text-center text-sm rounded-lg bg-red-100 text-red-700" role="alert">
            <ul class="list-none p-0">
                {% for error in form.non_field_errors %}
                    <li><strong>{{ error }}</strong></li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}   
    <!------------CABEÇALHO--------------> 
    <div class="card bg-base-100 shadow-sm">
        <div class="card-body p-4 sm:p-6">
            <h2 class="card-title text-xl sm:text-2xl font-bold mb-6">
                <i class="fas fa-plus-circle mr-2"></i>{{ titulo_pagina }}
            </h2>
            <!--Campo de descrição-->         
            <div class="flex flex-col flex-1">
                <div class="flex w-full flex-col">
                    <form method="POST" action="" class="space-y-4">
                    {% csrf_token %}
                        <div class="flex flex-col flex-1 p-4">
                            <div class="flex w-full flex-col">
                                <div class="form-control">
                                    <label class="label" for="{{ form.descricao.id_for_label }}">
                                        <span class="label-text font-medium">Descrição
                                            <span class="text-error">*</span>
                                        </span>
                                    </label>
                                    {{ form.descricao }}
                                    {% if form.descricao.errors %}
                                        <p class="text-error text-sm">{{ form.descricao.errors.0 }}</p>
                                    {% endif %}
                                </div>
                                <div class="flex flex-col sm:flex-row gap-3 pt-6">
                                    <button type="submit" class="btn btn-primary flex-1">
                                        <i class="fas fa-save mr-2"></i>Salvar Categoria
                                    </button>
                                    <a href="{% url 'financeiro:categoria_list' %}" class="btn btn-neutral btn-outline flex-1">
                                        <i class="fas fa-times mr-2"></i>Cancelar
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
            
{% endblock %}