{% extends 'shared/base.html' %}
{% load static %}
{% load humanize %}

{% block title %}Dashboard - Painel Inicial{% endblock %}

{% block content %}

<div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-800 mb-4">Painel Inicial</h1>

    <div class="bg-gray-50 p-4 rounded-lg shadow-md border border-gray-200">
        <form method="GET" action="{% url 'index' %}" class="grid grid-cols-1 md:grid-cols-3 gap-4 items-end">
            <div>
                <label for="data_inicio" class="block text-sm font-medium text-gray-700 mb-1">Data Início:</label>
                <input 
                    type="date" 
                    id="data_inicio" 
                    name="data_inicio" 
                    value="{{ data_inicio }}" 
                    class="input input-bordered w-full rounded-lg">
            </div>
            <div>
                <label for="data_fim" class="block text-sm font-medium text-gray-700 mb-1">Data Fim:</label>
                <input 
                    type="date" 
                    id="data_fim" 
                    name="data_fim" 
                    value="{{ data_fim }}" 
                    class="input input-bordered w-full rounded-lg">
            </div>
            <button type="submit" class="btn btn-primary w-full md:w-auto rounded-lg">
                <i class="fas fa-filter mr-2"></i> Filtrar Período
            </button>
        </form>
    </div>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
        <h3 class="text-lg font-semibold text-gray-500 uppercase">Balanço (Receitas - Despesas)</h3>
        <p class="text-4xl font-extrabold {% if balanco >= 0 %}text-green-600{% else %}text-red-600{% endif %} mt-2">
            R$ {{ balanco|floatformat:2|intcomma }}
        </p>
        <p class="text-gray-500 mt-2">Período de {{ data_inicio|date:"d/m/Y" }} a {{ data_fim|date:"d/m/Y" }}</p>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
        <h3 class="text-lg font-semibold text-gray-500 uppercase">Total Receitas (Pagas)</h3>
        <p class="text-4xl font-extrabold text-blue-600 mt-2">
            R$ {{ receitas|floatformat:2|intcomma }}
        </p>
        <p class="text-gray-500 mt-2">No período selecionado</p>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
        <h3 class="text-lg font-semibold text-gray-500 uppercase">Total Despesas (Pagas)</h3>
        <p class="text-4xl font-extrabold text-red-500 mt-2">
            R$ {{ despesas|floatformat:2|intcomma }}
        </g>
        <p class="text-gray-500 mt-2">No período selecionado</p>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
        <h3 class="text-lg font-semibold text-gray-500 uppercase">Taxa de Ocupação</h3>
        <p class="text-4xl font-extrabold text-purple-600 mt-2">
            {{ taxa_ocupacao|floatformat:1|intcomma }}%
        </p>
        <p class="text-gray-500 mt-2">Média no período selecionado</p>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
        <h3 class="text-lg font-semibold text-gray-500 uppercase">Hóspedes Ativos (Agora)</h3>
        <p class="text-4xl font-extrabold text-orange-600 mt-2">
            {{ hospedes_ativos_count }}
        </p>
        <p class="text-gray-500 mt-2">Hóspedes com check-in realizado</p>
    </div>
   <!-- 
    <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 border-dashed">
        <h3 class="text-lg font-semibold text-gray-400 uppercase">Próximas Métricas</h3>
        <p class="text-gray-500 mt-2">Reservei esse espaço para se precisar de mais métricas, qualquer coisa eu tiro.</p>
    </div>
    -->
</div>

{% endblock %}
